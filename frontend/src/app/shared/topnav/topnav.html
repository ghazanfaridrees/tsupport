<nav class="navbar navbar-dark bg-inverse navbar-fixed-top topnav">
    <div class="collapse navbar-toggleable-xs clearfix text-center">
        <a class="navbar-brand" routerLink="/">tSupport</a>
        <ul class="nav navbar-nav">
            <ng-container *ngIf="_tokenService.userSignedIn()">
                <li class="nav-item">
                    <a routerLink="/tickets" [routerLinkActive]="['router-link-active']">
                        Tickets
                    </a>
                </li>
                <li class="nav-item" *ngIf="user_service.current_user && user_service.current_user.is_admin()">
                    <a href="/admin">
                        Admin
                    </a>
                </li>
            </ng-container>
        </ul>
        <ul class="nav navbar-nav top-nav navbar-right pull-xs-right top-right-nav">
            <li class="dropdown nav-item" dropdown [class.open]="toggle">
                <ng-container *ngIf="_tokenService.currentUserData">
                    <a href="javascript:;" id="single-button" (click)="toggle = !toggle" class="nav-link dropdown-toggle" dropdownToggle >
                        <i class="fa fa-user"></i> {{_tokenService.currentUserData?.email}} <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="single-button">
                        <li>
                            <a class="dropdown-item" href="javascript:;" routerLink="/session/change-password"><i class="fa fa-fw fa-user"></i> Change Password</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="dropdown-item" href="javascript:;" (click)="signOut()">
                                <i class="fa fa-fw fa-power-off"></i> Log Out
                            </a>
                        </li>
                    </ul>
                </ng-container>
                <ng-container *ngIf="!_tokenService.currentUserData">
                    <a href="" routerLink="/session/sign-in">
                        Sign In
                    </a>
                </ng-container>
            </li>
        </ul>
    </div>
</nav>
